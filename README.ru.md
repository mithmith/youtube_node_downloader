# Youtube Parser Downloader

## –û–±–∑–æ—Ä
Youtube Parser Downloader ‚Äî —ç—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è —Å–±–æ—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–∏–¥–µ–æ –Ω–∞ YouTube, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–∞–Ω–∞–ª–æ–≤, —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ, –∞—É–¥–∏–æ, —Å—É–±—Ç–∏—Ç—Ä–æ–≤ –∏ –º–∏–Ω–∏–∞—Ç—é—Ä, –∞ —Ç–∞–∫–∂–µ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä—è–¥–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ –µ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ. –≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ –≤—Å–µ—Ö, –∫—Ç–æ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω –≤ –∞–Ω–∞–ª–∏–∑–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ YouTube –∏ –µ–≥–æ –¥–∞–ª—å–Ω–µ–π—à–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.

## README.md
- English [README.md](README.md)
- –†—É—Å—Å–∫–∏–π [README.ru.md](README.ru.md)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

1. [Docker install](docs/docker_install.md)
2. [Postgres install](docs/postgres_install.md)
3. [PIP install](docs/pip_install.md)
4. [Youtube api install](docs/yt_api_install.md)
5. [YT-DLP install](docs/yt-dlp_install.md)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ üöÄ

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

1. **–ß–µ—Ä–µ–∑ pip**: –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Python.
2. **–° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker**: –£–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Å –∏–∑–æ–ª—è—Ü–∏–µ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è.
3. **–õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Python-–æ–∫—Ä—É–∂–µ–Ω–∏–µ**: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.
4. **–ß–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å**: –î–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

[–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∫–∞–∂–¥–æ–º—É –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–æ –≤ INSTALL.md](docs/INSTALL.md).

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ü–∞—Ä—Å–∏–Ω–≥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞–Ω–∞–ª–∞—Ö –∏ –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ `yt-dlp` –∏ YouTube API.
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞–Ω–∞–ª–æ–≤ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–∏–¥–µ–æ.
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ, –∞—É–¥–∏–æ, —Å—É–±—Ç–∏—Ç—Ä–æ–≤ –∏ –º–∏–Ω–∏–∞—Ç—é—Ä.
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ, –≤–∫–ª—é—á–∞—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∞—É–¥–∏–æ –¥–æ—Ä–æ–∂–µ–∫ –∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è.
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –≤–∫–ª—é—á–∞—è –ø–µ—Ä–µ–≤–æ–¥ –æ–ø–∏—Å–∞–Ω–∏–π –∏ —Å—É–±—Ç–∏—Ç—Ä–æ–≤.
- –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–±—Ç–∏—Ç—Ä–æ–≤ –∏ –∫—Ä–∞—Ç–∫–æ–≥–æ –ø–µ—Ä–µ—Å–∫–∞–∑–∞ –≤–∏–¥–µ–æ.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –Ω–æ–≤—ã—Ö –∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –≤–∏–¥–µ–æ.
- –ó–µ—Ä–∫–∞–ª—å–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –≤–∏–¥–µ–æ –Ω–∞ –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ Peertube.

## –ö–∞–∫ –ø–æ–º–æ—á—å –ø—Ä–æ–µ–∫—Ç—É
–ú—ã —Ä–∞–¥—ã –ª—é–±–æ–π –ø–æ–º–æ—â–∏ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä –∑–∞–¥–∞—á –¥–ª—è –≤–∫–ª–∞–¥–∞ –≤ –ø—Ä–æ–µ–∫—Ç, –Ω–∞—á–∏–Ω–∞—è –æ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–º–æ—á—å, –≤–∑–≥–ª—è–Ω–∏—Ç–µ –Ω–∞ –Ω–∞—à [—Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á](https://github.com/mithmith/peer_node_downloader/blob/main/TODO.md) –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–æ, —á—Ç–æ –≤–∞–º –ø–æ –¥—É—à–µ. –ú—ã —Ü–µ–Ω–∏–º –∫–∞–∂–¥—ã–π –≤–∫–ª–∞–¥!

### –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
- –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞–Ω–∞–ª–∞—Ö –∏ –≤–∏–¥–µ–æ.
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞–Ω–∞–ª–æ–≤ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞.
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏–¥–µ–æ.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ Telegram –∏ Peertube.

### –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–æ–º, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –Ω–∞—à–∏–º–∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞–º–∏ –ø–æ —É—á–∞—Å—Ç–∏—é –∏ –∫–æ–¥–µ–∫—Å–æ–º –ø–æ–≤–µ–¥–µ–Ω–∏—è. –ú—ã —Å—Ç—Ä–µ–º–∏–º—Å—è —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≤–µ—Ç–ª–∏–≤–æ–µ –∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ.

## –ö–æ–Ω—Ç–∞–∫—Ç—ã
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –Ω–∞–º —á–µ—Ä–µ–∑ [—Å–æ–∑–¥–∞–Ω–∏–µ issue](https://github.com/mithmith/peer_node_downloader/issues) –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Youtube API:
https://developers.google.com/youtube/v3/quickstart/python

```
pip install google-api-python-client==2.121.0
pip install google-auth-oauthlib==1.2.0
pip install google-auth-httplib2
```
–ê —Ç–∞–∫–∂–µ –ø—Ä–æ–µ–∫—Ç `yt-dlp`:
https://github.com/yt-dlp/yt-dlp


# –ö–ª–∞—Å—Å YoutubeDataRepository

## 1. –ú–µ—Ç–æ–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (Create)
- add_channel - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞.
- add_video - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ.
- add_tag - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞.
- add_thumbnail - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∏–Ω–∏–∞—Ç—é—Ä—ã.
- add_video_format - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –≤–∏–¥–µ–æ.
- add_channel_history - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∫–∞–Ω–∞–ª–∞.
- add_video_history - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≤–∏–¥–µ–æ.

## 2. –ú–µ—Ç–æ–¥—ã –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (Retrieve)
- get_channel_by_id - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ –ø–æ ID.
- get_video_by_id - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–∏–¥–µ–æ –ø–æ ID.
- get_channels - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–∞–Ω–∞–ª–æ–≤.
- get_channel_videos - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–∏–¥–µ–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞.
- get_channel_id_by_url - –ø–æ–ª—É—á–µ–Ω–∏–µ ID –∫–∞–Ω–∞–ª–∞ –ø–æ URL.
- get_videos_without_upload_date - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–∏–¥–µ–æ –±–µ–∑ –¥–∞—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏.
- get_video_ids_without_formats - –ø–æ–ª—É—á–µ–Ω–∏–µ ID –≤–∏–¥–µ–æ –±–µ–∑ —Ñ–æ—Ä–º–∞—Ç–æ–≤.
- get_new_and_existing_video_ids - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–µ –∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –≤–∏–¥–µ–æ.

## 3. –ú–µ—Ç–æ–¥—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (Update)
- update_channel_details - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –∫–∞–Ω–∞–ª–∞.
- update_video_details - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –≤–∏–¥–µ–æ.
- update_video_path - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—É—Ç–∏ —Ñ–∞–π–ª–∞ –≤–∏–¥–µ–æ.
- update_thumbnail_path - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—É—Ç–∏ —Ñ–∞–π–ª–∞ –º–∏–Ω–∏–∞—Ç—é—Ä—ã.
- set_video_as_invalid - –ø–æ–º–µ—Ç–∏—Ç—å –≤–∏–¥–µ–æ –∫–∞–∫ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ.

## 4. –ú–µ—Ç–æ–¥—ã —É–¥–∞–ª–µ–Ω–∏—è (Delete)
- delete_video - —É–¥–∞–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ.

## 5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
- reset_all_invalid_videos - —Å–±—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –≤–∏–¥–µ–æ.
- bulk_add_tags - –º–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–æ–≤.
